{"ast":null,"code":"var _jsxFileName = \"/Users/hudro/code/js-react-course/react_calc/src/modules/calc/Calc.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport './Calc.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Calc = props => {\n  _s();\n  const [disp, setDisplay] = useState('0');\n  const [fz, setFontSize] = useState(26);\n  function changeDisplay(key) {\n    setDisplay(disp => {\n      const opers = ['*', '/', '%', '+', '-'];\n      const last = disp.at(-1);\n      if ((disp === 'NaN' || disp.indexOf('nfinity') > -1) && key !== 'AC') {\n        return disp;\n      }\n      if (opers.includes(key)) {\n        if (opers.includes(last)) {\n          return disp;\n        } else {\n          if (disp === '0') {\n            if (key === '-') {\n              return key;\n            }\n            return disp;\n          }\n          return disp + key;\n        }\n      }\n      if (key === '.') {\n        try {\n          const _ = `${eval(disp + key)}` !== 'NaN';\n          return disp + key;\n        } catch {\n          return disp;\n        }\n      }\n      switch (key) {\n        case 'AC':\n          return '0';\n        case '<':\n          if (disp.length === 1) {\n            return '0';\n          }\n          return `${disp.slice(0, disp.length - 1)}`;\n        case '=':\n          try {\n            return `${eval(disp)}`;\n          } catch (error) {\n            return `NaN`;\n          }\n        default:\n          if (disp === '0') {\n            return key;\n          }\n          return disp + key;\n      }\n    });\n  }\n  useEffect(() => {\n    setFontSize(fz => {\n      if (disp.length < 12) {\n        return 26;\n      } else if (disp.length < 16) {\n        return 20;\n      } else if (disp.length < 19) {\n        return 17;\n      } else if (disp.length < 22) {\n        return 14;\n      } else {\n        return 10;\n      }\n    });\n  }, [disp]);\n  const keyboard = ['AC', '(', ')', '/', '7', '8', '9', '*', '4', '5', '6', '-', '1', '2', '3', '+', '0', '.', '<', '='];\n  const orange = ['/', '*', '-', '+', '='];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calc-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"screen_wrapper\",\n        style: {\n          fontSize: fz\n        },\n        children: disp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-container\",\n      children: keyboard.map((key, i) => {\n        let classes = `grid-container-item item${i}`;\n        if (i < 3) {\n          classes += ' ft';\n        } else if (orange.includes(key)) {\n          classes += ' lc';\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes,\n          onClick: e => changeDisplay(e.target.innerText),\n          children: key\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n};\n_s(Calc, \"jaKeUDkVkOcMX7iLx6hQrKOfINE=\");\n_c = Calc;\nexport default Calc;\nvar _c;\n$RefreshReg$(_c, \"Calc\");","map":{"version":3,"names":["useEffect","useState","Calc","props","disp","setDisplay","fz","setFontSize","changeDisplay","key","opers","last","at","indexOf","includes","_","eval","length","slice","error","keyboard","orange","fontSize","map","i","classes","e","target","innerText"],"sources":["/Users/hudro/code/js-react-course/react_calc/src/modules/calc/Calc.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useState } from 'react'\nimport './Calc.scss'\n\nconst Calc = (props) => {\n    const [disp, setDisplay] = useState('0');\n    const [fz, setFontSize] = useState(26);\n\n    function changeDisplay(key) {\n        setDisplay(disp => {\n            const opers = ['*', '/', '%', '+', '-']\n            const last = disp.at(-1)\n\n            if ((disp === 'NaN' || disp.indexOf('nfinity') > -1) && key !== 'AC') {\n                return disp\n            }\n\n            if (opers.includes(key)) {\n                if (opers.includes(last)) {\n                    return disp\n                } else {\n                    if (disp === '0') {\n                        if (key === '-') {\n                            return key\n                        }\n                        return disp\n                    }\n                    return disp + key\n                }\n            }\n\n\n            if (key === '.') {\n                try {\n                    const _ = `${eval(disp + key)}` !== 'NaN'\n                    return disp + key\n                } catch {\n                    return disp\n                }\n            }\n\n            switch (key) {\n                case 'AC':\n                    return '0'\n                case '<':\n                    if (disp.length === 1) {\n                        return '0'\n                    }\n                    return `${disp.slice(0, disp.length - 1)}`\n                case '=':\n                    try {\n                        return `${eval(disp)}`\n                    } catch (error) {\n                        return `NaN`\n                    }\n                default:\n                    if (disp === '0') {\n                        return key\n                    }\n\n                    return disp + key\n            }\n        })\n    }\n\n    useEffect(() => {\n        setFontSize(fz => {\n            if (disp.length < 12) {\n                return 26\n            } else if (disp.length < 16) {\n                return 20\n            } else if (disp.length < 19) {\n                return 17\n            } else if (disp.length < 22) {\n                return 14\n            } else {\n                return 10\n            }\n\n\n        })\n    }, [disp])\n\n    const keyboard = [\n        'AC', '(', ')', '/',\n        '7', '8', '9', '*',\n        '4', '5', '6', '-',\n        '1', '2', '3', '+',\n        '0', '.', '<', '='\n    ]\n\n    const orange = ['/', '*', '-', '+', '=']\n\n    return (\n        <div className=\"calc-wrapper\">\n            <div className=\"screen\">\n                <div className=\"screen_wrapper\" style={{ fontSize: fz }} >{disp}</div>\n            </div>\n            <div className=\"grid-container\">\n                {\n                    keyboard.map((key, i) => {\n                        let classes = `grid-container-item item${i}`\n                        if (i < 3) {\n                            classes += ' ft'\n                        } else if (orange.includes(key)) {\n                            classes += ' lc'\n                        }\n                        return (\n                            <div key={i} className={classes}\n                                onClick={(e) => changeDisplay(e.target.innerText)}>\n                                {key}\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Calc;"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAO,aAAa;AAAA;AAEpB,MAAMC,IAAI,GAAIC,KAAK,IAAK;EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,UAAU,CAAC,GAAGJ,QAAQ,CAAC,GAAG,CAAC;EACxC,MAAM,CAACK,EAAE,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEtC,SAASO,aAAa,CAACC,GAAG,EAAE;IACxBJ,UAAU,CAACD,IAAI,IAAI;MACf,MAAMM,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MACvC,MAAMC,IAAI,GAAGP,IAAI,CAACQ,EAAE,CAAC,CAAC,CAAC,CAAC;MAExB,IAAI,CAACR,IAAI,KAAK,KAAK,IAAIA,IAAI,CAACS,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,KAAKJ,GAAG,KAAK,IAAI,EAAE;QAClE,OAAOL,IAAI;MACf;MAEA,IAAIM,KAAK,CAACI,QAAQ,CAACL,GAAG,CAAC,EAAE;QACrB,IAAIC,KAAK,CAACI,QAAQ,CAACH,IAAI,CAAC,EAAE;UACtB,OAAOP,IAAI;QACf,CAAC,MAAM;UACH,IAAIA,IAAI,KAAK,GAAG,EAAE;YACd,IAAIK,GAAG,KAAK,GAAG,EAAE;cACb,OAAOA,GAAG;YACd;YACA,OAAOL,IAAI;UACf;UACA,OAAOA,IAAI,GAAGK,GAAG;QACrB;MACJ;MAGA,IAAIA,GAAG,KAAK,GAAG,EAAE;QACb,IAAI;UACA,MAAMM,CAAC,GAAI,GAAEC,IAAI,CAACZ,IAAI,GAAGK,GAAG,CAAE,EAAC,KAAK,KAAK;UACzC,OAAOL,IAAI,GAAGK,GAAG;QACrB,CAAC,CAAC,MAAM;UACJ,OAAOL,IAAI;QACf;MACJ;MAEA,QAAQK,GAAG;QACP,KAAK,IAAI;UACL,OAAO,GAAG;QACd,KAAK,GAAG;UACJ,IAAIL,IAAI,CAACa,MAAM,KAAK,CAAC,EAAE;YACnB,OAAO,GAAG;UACd;UACA,OAAQ,GAAEb,IAAI,CAACc,KAAK,CAAC,CAAC,EAAEd,IAAI,CAACa,MAAM,GAAG,CAAC,CAAE,EAAC;QAC9C,KAAK,GAAG;UACJ,IAAI;YACA,OAAQ,GAAED,IAAI,CAACZ,IAAI,CAAE,EAAC;UAC1B,CAAC,CAAC,OAAOe,KAAK,EAAE;YACZ,OAAQ,KAAI;UAChB;QACJ;UACI,IAAIf,IAAI,KAAK,GAAG,EAAE;YACd,OAAOK,GAAG;UACd;UAEA,OAAOL,IAAI,GAAGK,GAAG;MAAA;IAE7B,CAAC,CAAC;EACN;EAEAT,SAAS,CAAC,MAAM;IACZO,WAAW,CAACD,EAAE,IAAI;MACd,IAAIF,IAAI,CAACa,MAAM,GAAG,EAAE,EAAE;QAClB,OAAO,EAAE;MACb,CAAC,MAAM,IAAIb,IAAI,CAACa,MAAM,GAAG,EAAE,EAAE;QACzB,OAAO,EAAE;MACb,CAAC,MAAM,IAAIb,IAAI,CAACa,MAAM,GAAG,EAAE,EAAE;QACzB,OAAO,EAAE;MACb,CAAC,MAAM,IAAIb,IAAI,CAACa,MAAM,GAAG,EAAE,EAAE;QACzB,OAAO,EAAE;MACb,CAAC,MAAM;QACH,OAAO,EAAE;MACb;IAGJ,CAAC,CAAC;EACN,CAAC,EAAE,CAACb,IAAI,CAAC,CAAC;EAEV,MAAMgB,QAAQ,GAAG,CACb,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EACnB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CACrB;EAED,MAAMC,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;EAExC,oBACI;IAAK,SAAS,EAAC,cAAc;IAAA,wBACzB;MAAK,SAAS,EAAC,QAAQ;MAAA,uBACnB;QAAK,SAAS,EAAC,gBAAgB;QAAC,KAAK,EAAE;UAAEC,QAAQ,EAAEhB;QAAG,CAAE;QAAA,UAAGF;MAAI;QAAA;QAAA;QAAA;MAAA;IAAO;MAAA;MAAA;MAAA;IAAA,QACpE,eACN;MAAK,SAAS,EAAC,gBAAgB;MAAA,UAEvBgB,QAAQ,CAACG,GAAG,CAAC,CAACd,GAAG,EAAEe,CAAC,KAAK;QACrB,IAAIC,OAAO,GAAI,2BAA0BD,CAAE,EAAC;QAC5C,IAAIA,CAAC,GAAG,CAAC,EAAE;UACPC,OAAO,IAAI,KAAK;QACpB,CAAC,MAAM,IAAIJ,MAAM,CAACP,QAAQ,CAACL,GAAG,CAAC,EAAE;UAC7BgB,OAAO,IAAI,KAAK;QACpB;QACA,oBACI;UAAa,SAAS,EAAEA,OAAQ;UAC5B,OAAO,EAAGC,CAAC,IAAKlB,aAAa,CAACkB,CAAC,CAACC,MAAM,CAACC,SAAS,CAAE;UAAA,UACjDnB;QAAG,GAFEe,CAAC;UAAA;UAAA;UAAA;QAAA,QAGL;MAEd,CAAC;IAAC;MAAA;MAAA;MAAA;IAAA,QAEJ;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd,CAAC;AAAA,GAlHKtB,IAAI;AAAA,KAAJA,IAAI;AAoHV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}